<!DOCTYPE html>
<html lang="en">

<head>
	<title>three.js webgl - materials - video</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link type="text/css" rel="stylesheet" href="main.css">
</head>

<body>
	<div id="container"></div>


	<script id="vertexShader" type="x-shader/x-vertex" src="vertex.vert">
		varying vec2 vUv;
		varying vec4 worldPos;
		void main() {
			vUv = uv;
		
			gl_Position =   projectionMatrix * 
							modelViewMatrix * 
							vec4(position,1.0);
			worldPos = modelMatrix * vec4(position, 1.0);
		}
	</script>

	<script id="fragmentShader" type="x-shader/x-fragment" src="fragment.frag">
		uniform sampler2D texture1;
	
		struct Subject{
			vec3 position;
		};
		uniform vec3 subjects[5];

		varying vec2 vUv;
		varying vec4 worldPos;
		void main() {
			gl_FragColor = texture2D(texture1, vUv); 
			for(int i = 0; i<5; i++){
				if(distance(subjects[i], worldPos.xyz)<0.005){
					gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
				}
			}
		}
	</script>
	<script type="module" src="index.js"></script>

</body>

</html>